(()=>{"use strict";var e={913:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.gameConfig=void 0;const r=n(322),o=n(762),i=innerWidth,s=innerHeight,a=new o.StateStack,c=new r.Frame(i,s);c.setRenderingContext("2d");const u=c.getRenderingContext;t.gameConfig={stateStack:a,frame:c,ctx:u,width:i,height:s,id:0,entities:[]}},730:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Particle=void 0;const r=n(913),o=n(599),i=n(262);t.Particle=class{constructor(e){this.id="PARTICLE";const{width:t,height:n}=r.gameConfig,{angle:i,x:s,y:a,speed:c}=e;this.x=s,this.y=a,this.w=3,this.h=this.w,this.speed=null!=c?c:50,this.angle=null!=i?i:(0,o.degreeToRadian)((0,o.rand)(0,360)),this.active=!0,setTimeout((()=>{this.active=!1}),5e3)}render(){const e=r.gameConfig.ctx;e.save(),e.translate(this.x+this.w/2,this.y+this.h/2),e.rotate(this.angle),e.fillStyle="#ffffff",e.fillRect(-this.w/2,-this.h/2,this.w,this.h),e.restore()}update(){this.x+=this.speed*Math.cos(this.angle)*i.delta,this.y+=this.speed*Math.sin(this.angle)*i.delta}}},769:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.asteroids=void 0;const r=n(913),o=n(262);t.asteroids=new class{constructor(){this.loop=this.loop.bind(this)}render(){var e;null===(e=r.gameConfig.stateStack.peek())||void 0===e||e.render()}update(){var e;null===(e=r.gameConfig.stateStack.peek())||void 0===e||e.update()}loop(){o.Perf.beforeCycle(),this.update(),this.render(),r.gameConfig.id=window.requestAnimationFrame(this.loop),o.Perf.afterCycle()}onStart(){r.gameConfig.frame.create(document.body),this.loop()}init(e){if(e&&r.gameConfig.stateStack.push(e),0===r.gameConfig.stateStack.size())throw new Error("Cannot initialize game without any state");this.onStart()}}},305:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.menu=void 0;const r=n(913),o=n(730),i=n(599),s=n(803);t.menu=new class{onEnter(){const{entities:e,width:t,height:n}=r.gameConfig;for(let r=0;r<70;r++)e.push(new o.Particle({x:(0,i.rand)(0,t),y:(0,i.rand)(0,n)}));this.renderHtml()}onExit(){}onPause(){}onResume(){}render(){const{entities:e}=r.gameConfig;e.forEach((e=>e.render()))}update(){}renderHtml(){s.html`
			<section class="menu">
				<article class="menu__container">
					<h1>Asteroids</h1>
					<ul class="main__container__list">
						<li>
							<button onclick="">Play game</button>
						</li>
						<li>
							<button onclick="${console.log("Hello world!")}">
								High score
							</button>
						</li>
					</ul>
				</article>
			</section>
		`(document.body)}}},322:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Frame=void 0;class n{constructor(e,t,n){this.width=null!=e?e:innerWidth,this.height=null!=t?t:innerHeight,this.backgroundColor=null!=n?n:"#000000",this.id=Date.now(),this.canvas=document.createElement("canvas"),this.destination=document.body,this.context=null,this.canvas.id=String(this.id),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.backgroundColor=this.backgroundColor,this.canvas.innerHTML='\n            <h2>Unsuported browser</h2>\n            <p>\n                Sorry, but your current browser won\'t do anymore. \n                Either you upgrade your browser or just leave.\n            </p>\n            <a href="https://www.mozilla.org/en-US/firefox/new/">Browser upgrade</a>\n        '}create(e){e?(this.destination=e,this.destination.appendChild(this.canvas)):this.destination.appendChild(this.canvas)}remove(){this.destination.removeChild(this.canvas)}resize(e,t){this.width=e,this.height=t,this.canvas.width=e,this.canvas.height=t}static createInstance(e){let t=new n(e.width,e.height,e.style.backgroundColor);return t.setDestination=e.parentElement,t}get getWidth(){return this.width}get getHeight(){return this.height}get getBackgroundColor(){return this.backgroundColor}get getId(){return this.id}get getCanvas(){return this.canvas}get getDestination(){return this.destination}get getRenderingContext(){return this.context}set setWidth(e){this.width=e,this.canvas.width=e}set setHeight(e){this.height=e,this.canvas.height=e}set setBackgroundColor(e){this.backgroundColor=e,this.canvas.style.backgroundColor=e}set setId(e){this.id=e,this.canvas.id=String(e)}set setCanvas(e){this.canvas=e}set setDestination(e){this.destination=e}setRenderingContext(e,t){this.context=this.canvas.getContext(e,t)}}t.Frame=n},599:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Maths=t.getUnitVector=t.deepFloatCmp=t.getVectorLength=t.getDividedVector=t.getScaledVector=t.getNegateVector=t.substrVectorArray=t.substrVectors=t.sumVectorArray=t.sumVectors=t.limitValue=t.degreeToRadian=t.isNumberBetween=t.randBool=t.randElement=t.randInt=t.randEven=t.rand=t.Circle=t.LineSegment=t.Line=t.OrientedRect=t.Rect=t.Vec2=void 0;class s{constructor(e,t){this.x=null!=e?e:0,this.y=null!=t?t:0}}t.Vec2=s;class a{constructor(e,t,n,r){this.x=null!=e?e:0,this.y=null!=t?t:0,this.w=null!=n?n:10,this.h=null!=r?r:10}}function c(e,t){return e+Math.random()*(t-e)}function u(e,t){return Math.floor(c(e,t))}function l(e){return e[u(0,e.length)]}function h(e,t){return new s(e.x/t,e.y/t)}function d(e){return Math.sqrt(e.x*e.x+e.y*e.y)}t.Rect=a,t.OrientedRect=class extends a{constructor(e=0,t=0,n=4,r=4,o=0){super(e,t,n,r),this.angle=o}},t.Line=class{constructor(e,t){this.base=null!=e?e:new s,this.direction=null!=t?t:new s}},t.LineSegment=class{constructor(e,t){this.a=null!=e?e:new s,this.b=null!=t?t:new s}},t.Circle=class{constructor(e,t){this.position=null!=e?e:new s,this.radius=null!=t?t:0}},t.rand=c,t.randEven=function(e,t){let n=[];for(let r=e;r<t;r++)r%2==0&&n.push(r);return l(n)},t.randInt=u,t.randElement=l,t.randBool=function(){return l([!0,!1])},t.isNumberBetween=function(e,t,n){return e>=t&&e<=n},t.degreeToRadian=function(e){return e*Math.PI/180},t.limitValue=function(e,t,n){return Math.max(t,Math.min(n,e))},t.sumVectors=function(e,t){return new s(e.x+t.x,e.y+t.y)},t.sumVectorArray=function(e){const t=e.length-1,n=new s;for(let r=0;r<t;r++)n.x+=e[r].x,n.y+=e[r].y;return n},t.substrVectors=function(e,t){return new s(e.x-t.x,e.y-t.y)},t.substrVectorArray=function(e){const t=e.length-1,n=new s;for(let r=0;r<t;r++)n.x-=e[r].x,n.y-=e[r].y;return n},t.getNegateVector=function(e){return new s(-Math.abs(e.x),-Math.abs(e.y))},t.getScaledVector=function(e,t){return new s(e.x*t,e.y*t)},t.getDividedVector=h,t.getVectorLength=d,t.deepFloatCmp=function(e,t){return Math.abs(e-t)<1/8192},t.getUnitVector=function(e){const t=d(e);return 0<t?h(e,t):e};const f=new s(0,0);Object.freeze(f),t.Maths=i(n(599))},262:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};function s(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}Object.defineProperty(t,"__esModule",{value:!0}),t.Perf=t.afterCycle=t.beforeCycle=t.delta=t.fps=void 0;let a=0,c=s();t.fps=0,t.delta=0,t.beforeCycle=function(){a=s(),t.delta=Math.min(1,(a-c)/1e3),t.fps=1/t.delta},t.afterCycle=function(){c=a},t.Perf=i(n(262))},762:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StateStack=void 0,t.StateStack=class{constructor(e=1/0){this.capacity=e,this.storage=[]}push(e){if(this.size()===this.capacity)throw new Error("Stack reached maximum capacity");e.onEnter(),this.storage.push(e)}pop(){let e=this.storage.pop();return null==e||e.onExit(),e}peek(){return this.storage[this.size()-1]}size(){return this.storage.length}}},803:(e,t,n)=>{n.r(t),n.d(t,{html:()=>E,nextTick:()=>u,r:()=>C,reactive:()=>M,t:()=>m,w:()=>x,watch:()=>S});const r=new Map,o=new Set,i=new Set;let s=!1;const a=new WeakMap;function c(e){return(t,n)=>{o.size||setTimeout((()=>{s=!0,o.forEach((e=>e(t,n))),o.clear(),s=!1,i.forEach((e=>e())),i.clear()})),!s&&o.add(e)}}function u(e){if(!o.size)return e&&e(),Promise.resolve();let t;const n=new Promise((e=>{t=e}));return i.add((()=>{e&&e(),t()})),n}function l(e,t){r.forEach((n=>{let r=n.get(e);r||(r=new Set,n.set(e,r)),r.add(t)}))}function h(e){return"function"==typeof e&&!!e.isT}function d(e){return"object"==typeof e&&null!==e&&"function"==typeof e.$on}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e){const t=document.createElement("template");t.innerHTML=e;const n=t.content.cloneNode(!0);return n.normalize(),n.childNodes}function g(e=Symbol()){let t="",n=[],r=[],o=[];const i=new Map,s=()=>{r.length||c();const e=u(y(p(t),n)());return a(),e};s.ch=()=>o,s.l=0,s.add=e=>{if(!e&&0!==e)return;let o,a=e,c=[];var u;h(e)?[a,c,o]=e._h():a="\x3c!----\x3e"===(u=String(e))?u:u.replace(/[<>]/g,(e=>">"===e?"&gt;":"&lt;")),t+=a,t+="\x3c!--❍⇚--\x3e";const l=o&&i.get(o),d=l||{html:a,exp:c,dom:[],tpl:e,key:o};r.push(d),o&&(l?l.exp.forEach(((e,t)=>e._up(c[t].e))):i.set(o,d)),c.forEach((e=>n.push(e))),s.l++},s._up=()=>{const t=g(e);let n=0,i=o[0].dom[0];r.length||c(document.createComment(""));const s=()=>{if(!t.l)return;const e=t(),o=e.lastChild;i[n?"after":"before"](e),l(t,r,n),i=o};r.forEach(((e,r)=>{const a=o[r];e.key&&e.dom.length?(s(),a&&a.dom===e.dom||i[r?"after":"before"](...e.dom),i=e.dom[e.dom.length-1]):a&&e.html===a.html&&!a.key?(s(),a.exp.forEach(((t,n)=>t._up(e.exp[n].e))),e.exp=a.exp,e.dom=a.dom,i=e.dom[e.dom.length-1]):(t.l||(n=r),t.add(e.tpl))})),s();let u=i.nextSibling;for(;u&&f(u,e);){const e=u.nextSibling;w(u),u=e}a()};const a=()=>{t="",s.l=0,n=[],o=[...r],r=[]},c=e=>{t="\x3c!----\x3e",r.push({html:t,exp:[],dom:e?[e]:[],tpl:t,key:0})},u=t=>{let n=0;const o=[];return t.childNodes.forEach((t=>{if(8===t.nodeType&&"❍⇚"===t.data)return n++,void o.push(t);Object.defineProperty(t,e,{value:e}),r[n].dom.push(t)})),o.forEach((e=>e.remove())),t},l=(e,t,n)=>{e.ch().forEach(((e,r)=>{t[n+r].dom=e.dom}))};return s}function m(e,...t){const n=[];let r="";const o=(e,t)=>{if("function"==typeof e){let r=()=>{};return n.push(Object.assign(((...t)=>e(...t)),{e,$on:e=>{r=e},_up:t=>{e=t,r()}})),t+"\x3c!--➳❍--\x3e"}return Array.isArray(e)?e.reduce(((e,t)=>o(t,e)),t):t+e},i=()=>(r||(r=e.reduce((function(e,n,r){return e+=n,void 0!==t[r]?o(t[r],e):e}),"")),r),s=e=>{const t=y(p(i()),n);return e?t(e):t()};return s.isT=!0,s._k=0,s._h=()=>[i(),n,s._k],s.key=e=>(s._k=e,s),s}function y(e,t){const n=document.createDocumentFragment();let r;for(;r=e.item(0);)8!==r.nodeType||"➳❍"!==r.nodeValue?(r instanceof Element&&v(r,t),r.hasChildNodes()&&y(r.childNodes,t)(r),n.append(r),r instanceof HTMLOptionElement&&(r.selected=r.defaultSelected)):n.append(b(r,t));return e=>e?(e.appendChild(n),e):n}function v(e,t){if(!e.hasAttributes())return;const n=e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement,r=e.attributes.length,o=[],i=[];for(let t=0;t<r;t++)i.push(e.attributes[t]);i.forEach((r=>{var i;const s=r.name;if(-1!==r.value.indexOf("\x3c!--➳❍--\x3e")){const r=t.shift();if("@"===s.charAt(0)){const t=s.substring(1);e.addEventListener(t,r),a.has(e)||a.set(e,new Map),null===(i=a.get(e))||void 0===i||i.set(t,r),o.push(s)}else x(r,(t=>{n&&"value"===s?e.value=t:!1!==t?e.setAttribute(s,t):e.removeAttribute(s)}))}})),o.forEach((t=>e.removeAttribute(t)))}function w(e){var t;e.remove(),null===(t=a.get(e))||void 0===t||t.forEach(((t,n)=>e.removeEventListener(n,t)))}function b(e,t){const n=document.createDocumentFragment();e.remove();const r=g(),o=t.shift();if(o&&h(o.e))r.add(o.e);else{r.l&&n.appendChild(r());let e=document.createTextNode("");e=x(o,(t=>_(e,t))),n.appendChild(e instanceof Node?e:e())}return r.l&&n.appendChild(r()),n}function _(e,t){if(!Array.isArray(t))return _(e,[t]);const n="function"==typeof e,r=n?e:g();return t.forEach((e=>r.add(e))),n&&r._up(),r}function x(e,t){const n=Symbol();r.has(n)||r.set(n,new Map);let o=new Map;const i=c(s);function s(){r.set(n,new Map);const s=e(),a=r.get(n);return r.delete(n),o.forEach(((e,t)=>{const n=a.get(t);n&&n.forEach((t=>e.delete(t))),e.forEach((e=>t.$off(e,i)))})),a.forEach(((e,t)=>{e.forEach((e=>t.$on(e,i)))})),o=a,t?t(s):s}return function(e){return f(e,"$on")}(e)&&e.$on(s),s()}function C(e,t={}){if(d(e)||"object"!=typeof e)return e;const n=t.o||new Map,r=t.op||new Map,o=Array.isArray(e),i=[],s=o?[]:Object.create(e,{});for(const t in e){const n=e[t];"object"==typeof n&&null!==n?(s[t]=d(n)?n:C(n),i.push(t)):s[t]=n}const a=e=>(t,o)=>{let i=n.get(t),s=r.get(o);i||(i=new Set,n.set(t,i)),s||(s=new Set,r.set(o,s)),i[e](o),s[e](t)},c=a("add"),u=a("delete"),h=(e,t,r)=>{n.has(e)&&n.get(e).forEach((e=>e(t,r)))},p={$on:c,$off:u,_em:h,_st:()=>({o:n,op:r,r:s,p:g._p}),_p:void 0},g=new Proxy(s,{get(...e){const[,t]=e;if(Reflect.has(p,t))return Reflect.get(p,t);const n=Reflect.get(...e);return l(g,t),o&&f(Array.prototype,t)?function(e,t,n,r){const o=(...r)=>{const o=Array.prototype[e].call(t,...r);if(t.forEach(((e,t)=>n._em(String(t),e))),n._p){const[e,t]=n._p;t._em(e,n)}return o};switch(e){case"shift":case"pop":case"sort":case"reverse":case"copyWithin":return o;case"unshift":case"push":case"fill":return(...e)=>o(...e.map((e=>C(e))));case"splice":return(e,t,...n)=>o(e,t,...n.map((e=>C(e))));default:return r}}(t,s,g,n):n},set(...e){const[t,n,r]=e,o=Reflect.get(t,n);if(Reflect.has(p,n))return Reflect.set(p,n,r);if(r&&d(o)){const e=o,i=e._st(),s=d(r)?function(e,t){const n=t._st();return n.o&&n.o.forEach(((t,n)=>{t.forEach((t=>{e.$on(n,t)}))})),n.p&&(e._p=n.p),e}(r,e):C(r,i);return Reflect.set(t,n,s),h(n,s),i.o.forEach(((t,n)=>{const r=Reflect.get(o,n),i=Reflect.get(s,n);r!==i&&e._em(n,i,r)})),!0}const i=Reflect.set(...e);return i&&(o!==r&&h(n,r,o),g._p&&g._p[1]._em(...g._p)),i}});return i.map((e=>{g[e]._p=[e,g]})),g}const E=m,M=C,S=x}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=n(769),t=n(305);window.addEventListener("load",(function(){try{e.asteroids.init(t.menu)}catch(e){console.error(e),alert(e)}}))})()})();